---
description: Requisitos e escopo do projeto DownloaderTube
alwaysApply: true
---

## Objetivo

Desenvolver uma aplicação CLI em Go para download de vídeos do YouTube, Facebook e Instagram, com menu interativo no terminal.

### Dependências Externas
- **yt-dlp** para extração e download de vídeos (https://github.com/yt-dlp/yt-dlp).
- **ffmpeg** para merge de vídeo+áudio, embed de thumbnail e metadados.
- O pacote `internal/deps` faz auto-download das dependências no primeiro uso.
  - Binários são salvos em `%LOCALAPPDATA%/DownloaderTube/bin/` (Windows) ou `~/.cache/DownloaderTube/bin/` (Linux).
  - O diretório é adicionado ao PATH em runtime para que `os/exec` encontre os binários.
  - yt-dlp: download direto do executável do GitHub Releases.
  - ffmpeg: download do zip (Windows) ou tar.xz (Linux) do BtbN/FFmpeg-Builds, com extração automática.
- A comunicação com yt-dlp é feita via `os/exec` (JSON para metadados, `--newline` para progresso).

### Funcionalidades
- Menu interativo no terminal com navegação clara.
- Download de vídeos do **YouTube**, **Facebook** e **Instagram** a partir de uma URL informada pelo usuário.
- **Seleção de idioma** do áudio quando o vídeo disponibiliza múltiplas faixas (ex: pt, en, es) — aplicável ao YouTube.
- Seleção de **qualidade/resolução** disponível (ex: 360p, 720p, 1080p).
- **Barra de progresso** durante o download.
- Pasta de destino padrão: `~/Downloads/DownloaderTube/` (configurável).
- Validação da URL informada (YouTube, Facebook ou Instagram conforme a opção do menu).
- Mensagens de erro claras para URLs inválidas, falhas de rede ou vídeos indisponíveis.
- Merge automático de vídeo + áudio via ffmpeg.
- **Thumbnail embutida** no arquivo mp4 (visível no explorador de arquivos) — YouTube.
- **Metadados** do vídeo embutidos no arquivo (título, autor, etc.).

### Extensibilidade
- A arquitetura permite adicionar novos downloaders (ex: Vimeo) via interface `Downloader` sem alterar o core.
- Cada plataforma possui seu próprio struct (YouTubeDownloader, FacebookDownloader, InstagramDownloader) e validador de URL.

### Menu Inicial

```
-------------------------------
   Downloader Tube
-------------------------------
 1 - Youtube
 2 - Facebook
 3 - Instagram

 x - Sair
-------------------------------
 @Copyright - https://webadvance.com.br | Diogo-dev
-------------------------------
```

### Opção 1 - Youtube

```
 Youtube url:

 0 - Voltar
 x - Sair
-------------------------------
```

### Opção 2 - Facebook

```
 Facebook url:

 0 - Voltar
 x - Sair
-------------------------------
```

### Opção 3 - Instagram

```
 Instagram url:

 0 - Voltar
 x - Sair
-------------------------------
```

### Seleção de Idioma (exibido apenas se houver 2+ idiomas — YouTube)

```
 Vídeo: <título do vídeo>
 Duração: <duração>

 Idiomas disponíveis:
 1 - English (en)
 2 - Português (pt)
 3 - Español (es)

 0 - Voltar
 x - Sair
-------------------------------
```

### Seleção de Qualidade

```
 Vídeo: <título do vídeo>
 Duração: <duração>
 Idioma: pt

 Qualidades disponíveis:
 1 - 360p
 2 - 720p
 3 - 1080p

 0 - Voltar
 x - Sair
-------------------------------
```

### Durante o Download

```

 Baixando: <título do vídeo>
 [████████████░░░░░░░░] 60% - 12MB/20MB

-------------------------------
 @Copyright - https://webadvance.com.br | Diogo-dev
-------------------------------
```